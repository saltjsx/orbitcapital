<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Orbit Intranet</title>
    <link rel="stylesheet" href="intranet.css" />
  </head>
  <body class="portal">
    <div class="portal-shell">
      <div class="portal-topbar">
        <div class="topbar-logo">
          <img
            src="../public/orbit.png"
            alt="Orbit Capital"
            style="height: 22px; vertical-align: middle; margin-right: 6px"
          />
          ORBIT Intranet
          <span class="topbar-env">INTERNAL</span>
        </div>
        <div id="userWelcome" class="topbar-user">Signed in</div>
        <div class="topbar-user">
          <a href="#" onclick="Portal.reAuth();return false;">Re-auth check</a>
          <a href="#" onclick="Portal.logout();return false;">Sign out</a>
        </div>
      </div>

      <div class="ticker"><span id="tickerSpan"></span></div>

      <div class="portal-main">
        <div class="portal-content">
          <div class="portal-subnav">
            <nav class="subnav-links">
              <a href="home.html" class="active">Dashboard</a>
              <a
                href="#"
                onclick="Portal.showView('announcements');return false;"
                >Announcements</a
              >
              <a href="#" onclick="Portal.showView('documents');return false;"
                >Documents</a
              >
              <a href="#" onclick="Portal.showView('directory');return false;"
                >Directory</a
              >
              <a href="#" onclick="Portal.showView('reports');return false;"
                >Reports</a
              >
              <a href="#" onclick="Portal.showView('systems');return false;"
                >Systems</a
              >
              <a href="#" onclick="Portal.showView('hr');return false;">HR</a>
            </nav>
            <div class="subnav-actions">
              <a href="#" onclick="Portal.refreshTicker();return false;"
                >Refresh Ticker</a
              >
              <span class="sep">|</span>
              <a href="#" onclick="Portal.toggleAllModules();return false;"
                >Toggle All Modules</a
              >
            </div>
          </div>
          <!-- Dashboard Modules -->
          <div class="module-grid" id="dashboard-grid">
            <div class="mod-box">
              <div class="mod-head">
                Announcements
                <div class="mod-tools">
                  <button onclick="Portal.refreshAnnouncements(this)">
                    Refresh
                  </button>
                  <button onclick="Portal.minimize(this)">Minimize</button>
                </div>
              </div>
              <div class="mod-body" id="annBody"></div>
            </div>

            <div class="mod-box">
              <div class="mod-head">
                Documents
                <div class="mod-tools">
                  <button onclick="Portal.loadDocuments(this)">Load</button>
                  <button onclick="Portal.minimize(this)">Minimize</button>
                </div>
              </div>
              <div class="mod-body" id="docBody"></div>
            </div>

            <div class="mod-box">
              <div class="mod-head">
                Directory
                <div class="mod-tools">
                  <button onclick="Portal.loadDirectory(this)">Load</button>
                  <button onclick="Portal.minimize(this)">Minimize</button>
                </div>
              </div>
              <div class="mod-body" id="dirBody"></div>
            </div>

            <div class="mod-box">
              <div class="mod-head">
                Reports & KPIs
                <div class="mod-tools">
                  <button onclick="Portal.loadReports(this)">Load</button>
                  <button onclick="Portal.minimize(this)">Minimize</button>
                </div>
              </div>
              <div class="mod-body" id="repBody"></div>
            </div>

            <div class="mod-box">
              <div class="mod-head">
                Systems
                <div class="mod-tools">
                  <button onclick="Portal.loadSystems(this)">Load</button>
                  <button onclick="Portal.minimize(this)">Minimize</button>
                </div>
              </div>
              <div class="mod-body" id="sysBody"></div>
            </div>

            <div class="mod-box">
              <div class="mod-head">
                HR
                <div class="mod-tools">
                  <button onclick="Portal.loadHR(this)">Load</button>
                  <button onclick="Portal.minimize(this)">Minimize</button>
                </div>
              </div>
              <div class="mod-body" id="hrBody"></div>
            </div>
          </div>

          <!-- Standalone Views (filled by JS when selected) -->
          <div id="view-announcements" class="view-section hidden"></div>
          <div id="view-documents" class="view-section hidden"></div>
          <div id="view-directory" class="view-section hidden"></div>
          <div id="view-reports" class="view-section hidden"></div>
          <div id="view-systems" class="view-section hidden"></div>
          <div id="view-hr" class="view-section hidden"></div>
        </div>
      </div>

      <div class="portal-footer">
        © 2005–2025 Orbit Capital • <a href="sso.html">Switch account</a>
      </div>
    </div>

    <script src="auth.js"></script>
    <script src="intranet.js"></script>
    <script>
      // Initialize after DOM ready
      (function () {
        if (document.readyState === "loading") {
          document.addEventListener("DOMContentLoaded", Portal.init);
        } else {
          Portal.init();
        }
      })();
    </script>
    <script
      src="https://cdn.databuddy.cc/databuddy.js"
      data-client-id="72txitEZbuxJXz96D-Y01"
      data-track-attributes="true"
      data-track-outgoing-links="true"
      data-track-interactions="true"
      data-track-engagement="true"
      data-track-scroll-depth="true"
      data-track-exit-intent="true"
      data-track-bounce-rate="true"
      data-track-web-vitals="true"
      data-track-errors="true"
      data-enable-batching="true"
      crossorigin="anonymous"
      async
    ></script>
  </body>
</html>
