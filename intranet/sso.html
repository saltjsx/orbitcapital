<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Orbit Intranet - Secure Sign In</title>
    <link rel="stylesheet" href="intranet.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  </head>
  <body class="login-body">
    <div class="login-wrapper">
      <table class="login-panel" cellpadding="0" cellspacing="0">
        <tr>
          <td class="lp-left">
            <div class="product-brand">ORBIT<br /><span>INTRANET</span></div>
            <p class="tagline">
              Internal Resource & Collaboration Portal<br /><small
                >Circa 2003 Edition</small
              >
            </p>
            <ul class="login-bullets">
              <li>Company Announcements</li>
              <li>Document Repository</li>
              <li>HR & IT Resources</li>
              <li>Team Directory</li>
              <li>Reports & Metrics</li>
            </ul>
          </td>
          <td class="lp-right">
            <form id="loginForm" class="login-form" autocomplete="off">
              <h1>Secure Sign In</h1>
              <div class="form-row">
                <label for="username">User ID:</label>
                <input type="text" id="username" name="username" autofocus />
              </div>
              <div class="form-row">
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" />
              </div>
              <div class="form-row remember-row">
                <label
                  ><input type="checkbox" id="remember" /> Remember me</label
                >
              </div>
              <div class="form-actions">
                <button type="submit" class="btn-oldschool">Sign In</button>
                <button type="reset" class="btn-oldschool secondary">
                  Reset
                </button>
              </div>
              <div
                id="loginMessage"
                class="login-message"
                aria-live="polite"
              ></div>
              <div class="disclaimer">
                Unauthorized access prohibited. Credentials are processed on
                this system.
              </div>
            </form>
          </td>
        </tr>
      </table>
      <div class="login-footer">
        &copy; 2005â€“2025 Orbit Capital Internal Systems. All Rights Reserved.
      </div>
    </div>
    <script src="auth.js"></script>
    <script>
      (function () {
        const form = document.getElementById("loginForm");
        const msg = document.getElementById("loginMessage");
        form.addEventListener("submit", function (e) {
          e.preventDefault();
          const u = username.value.trim();
          const p = password.value;
          const remember = document.getElementById("remember").checked;
          const result = window.OrbitAuth.login(u, p, remember);
          if (result.success) {
            msg.className = "login-message success";
            msg.textContent = "Login successful. Redirecting...";
            setTimeout(() => {
              window.location.href = "home.html";
            }, 600);
          } else {
            msg.className = "login-message error";
            msg.textContent = result.message;
          }
        });
        // Auto redirect if already logged in
        if (window.OrbitAuth.getCurrentUser()) {
          window.location.href = "home.html";
        }
      })();
    </script>
  </body>
</html>
