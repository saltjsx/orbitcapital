<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Orbit Intranet - Secure Sign In</title>
    <link rel="stylesheet" href="intranet.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  </head>
  <body class="login-body">
    <div class="login-wrapper">
      <div class="login-container">
        <div class="brand-header">
          <div class="product-brand">ORBIT</div>
          <div class="brand-subtitle">INTRANET</div>
        </div>
        
        <form id="loginForm" class="login-form" autocomplete="off">
          <h1>Secure Sign In</h1>
          
          <div class="form-group">
            <label for="username">USER ID:</label>
            <input type="text" id="username" name="username" autofocus />
          </div>
          
          <div class="form-group">
            <label for="password">PASSWORD:</label>
            <input type="password" id="password" name="password" />
          </div>
          
          <div class="form-group checkbox-group">
            <label class="checkbox-label">
              <input type="checkbox" id="remember" />
              <span class="checkmark"></span>
              REMEMBER ME
            </label>
          </div>
          
          <div class="form-actions">
            <button type="submit" class="btn-primary">SIGN IN</button>
            <button type="reset" class="btn-secondary">RESET</button>
          </div>
          
          <div id="loginMessage" class="login-message" aria-live="polite"></div>
          
          <div class="disclaimer">
            Unauthorized access prohibited. Credentials are processed on this system.
          </div>
        </form>
      </div>
      
      <div class="login-footer">
        &copy; 2005â€“2025 Orbit Capital Internal Systems. All Rights Reserved.
      </div>
    </div>
    <script src="auth.js"></script>
    <script>
      (function () {
        const form = document.getElementById("loginForm");
        const msg = document.getElementById("loginMessage");
        form.addEventListener("submit", function (e) {
          e.preventDefault();
          const u = username.value.trim();
          const p = password.value;
          const remember = document.getElementById("remember").checked;
          const result = window.OrbitAuth.login(u, p, remember);
          if (result.success) {
            msg.className = "login-message success";
            msg.textContent = "Login successful. Redirecting...";
            setTimeout(() => {
              window.location.href = "home.html";
            }, 600);
          } else {
            msg.className = "login-message error";
            msg.textContent = result.message;
          }
        });
        // Auto redirect if already logged in
        if (window.OrbitAuth.getCurrentUser()) {
          window.location.href = "home.html";
        }
      })();
    </script>
  </body>
</html>
